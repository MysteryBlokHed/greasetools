// ==UserScript==
// @name        greasetools
// @description Functions and other tools for GreaseMonkey UserScript development.
// @version     0.2.0
// @author      Adam Thompson-Sharpe
// @license     MIT OR Apache-2.0
// @homepageURL https://gitlab.com/MysteryBlokHed/greasetools#greasetools
// ==/UserScript==
(()=>{"use strict";var e={892:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=12){let n="// ==UserScript==\n";const r=(e,n)=>`// @${e}${" ".repeat(t-e.length)}${n}\n`;for(const[t,o]of Object.entries(e))if(o)if("string"==typeof o)n+=r(t,o);else for(const e of o)e&&(n+=r(t,e));return n+="// ==/UserScript==\n",n}},568:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.genBanner=void 0;var s=n(892);Object.defineProperty(t,"genBanner",{enumerable:!0,get:function(){return s.default}}),o(n(636),t)},636:(e,t)=>{function n(...e){if(!GM)return!1;for(const t of e)if(!(t in GM))return!1;return!0}function r(e){for(const t of Object.values(e))if("string"!=typeof t)throw TypeError("Only string is supported for values when localStorage is being used")}function o(e){return new Promise((t=>{const o=e,s=n("getValue");s||r(Object.values(o));const l=(()=>{let e={};for(const t of Object.keys(o))e[t]=!1;return e})(),a=()=>{Object.values(a).every((e=>e))&&t(o)};for(const e of Object.keys(l))if(s)GM.getValue(e).then((async t=>{void 0!==t?o[e]=t:await GM.setValue(e,o[e]),l[e]=!0,a()}));else{const t=localStorage.getItem(e);null!==t?o[e]=t:localStorage.setItem(e,o[e]),l[e]=!0,a()}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteValue=t.valuesGetProxy=t.valuesProxy=t.getAllValues=t.getValues=void 0,t.getValues=o,t.getAllValues=async function(){const e=await(async()=>n("getValue","listValues")?GM.listValues():Object.keys(localStorage))();return o((()=>{const t={};for(const n of e)t[n]="";return t})())},t.valuesProxy=function(e,t){const o=n("setValue");return new Proxy(e,{set(e,n,s){if(n in e){if(o){const e=GM.setValue(n,s);t&&t(e)}else r([s]),localStorage.setItem(n,s);return Reflect.set(e,n,s)}return!1}})},t.valuesGetProxy=function(e){const t=n("getValue");return new Proxy(e,{get:(e,n)=>new Promise(((r,o)=>{if(n in e)if(t)GM.getValue(n).then((e=>{void 0!==e?r(e):o()}));else{const e=localStorage.getItem(n);null!==e?r(e):o()}else o()})),set:()=>!1})},t.deleteValue=function(e,t){return new Promise((async(r,o)=>{t in e&&(n("deleteValue")?await GM.deleteValue(t):localStorage.removeItem(t),delete e[t],r(e)),o()}))}}},t={};var n=function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(568);window.GreaseTools=n})();