// ==UserScript==
// @name        greasetools
// @description Functions and other tools for GreaseMonkey UserScript development.
// @version     0.3.0
// @author      Adam Thompson-Sharpe
// @license     MIT OR Apache-2.0
// @homepageURL https://gitlab.com/MysteryBlokHed/greasetools#greasetools
// ==/UserScript==
(()=>{"use strict";var e={892:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.genBanner=void 0,t.genBanner=function(e,t=12){let n="// ==UserScript==\n";const o=(e,n)=>`// @${e}${" ".repeat(t-e.length)}${n}\n`;for(const[t,r]of Object.entries(e))if(r)if("string"==typeof r)n+=o(t,r);else for(const e of r)e&&(n+=o(t,e));return n+="// ==/UserScript==\n",n}},568:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(892),t),r(n(636),t)},636:(e,t)=>{function n(...e){if(!GM)return!1;for(const t of e)if(!(t in GM))return!1;return!0}function o(e){for(const t of Object.values(e))if("string"!=typeof t)throw TypeError("Only string is supported for values when localStorage is being used")}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteValue=t.valuesGetProxy=t.valuesProxy=t.getAllValues=t.getValues=void 0;const r=(e,t)=>"string"==typeof t?`${t}.${e}`:e;function s(e,t){return new Promise((s=>{const l=e,a=n("getValue");a||o(Object.values(l));const u=(()=>{let e={};for(const t of Object.keys(l))e[t]=!1;return e})(),c=()=>{Object.values(c).every((e=>e))&&s(l)};for(const e of Object.keys(u)){const n=r(e,t);if(a)GM.getValue(n).then((async t=>{void 0!==t?l[e]=t:await GM.setValue(n,l[e]),u[e]=!0,c()}));else{const t=localStorage.getItem(n);null!==t?l[e]=t:localStorage.setItem(n,l[e]),u[e]=!0,c()}}}))}t.getValues=s,t.getAllValues=async function(){const e=await(async()=>n("getValue","listValues")?GM.listValues():Object.keys(localStorage))();return s((()=>{const t={};for(const n of e)t[n]="";return t})())},t.valuesProxy=function(e,t,s){const l=n("setValue");return new Proxy(e,{set(e,n,a){const u=r(n,t);if(n in e){if(l){const e=GM.setValue(u,a);s&&s(e)}else o([a]),localStorage.setItem(u,a);return Reflect.set(e,n,a)}return!1}})},t.valuesGetProxy=function(e,t){const o=n("getValue");return new Proxy(e,{get:(e,n)=>new Promise(((s,l)=>{const a=r(n,t);if(n in e)if(o)GM.getValue(a).then((e=>{void 0!==e?s(e):l()}));else{const e=localStorage.getItem(a);null!==e?s(e):l()}else l()})),set:()=>!1})},t.deleteValue=function(e,t,o){return new Promise((async(s,l)=>{const a=r(t,o);t in e&&(n("deleteValue")?await GM.deleteValue(a):localStorage.removeItem(a),delete e[t],s(e)),l()}))}}},t={};var n=function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}(568);window.GreaseTools=n})();